(function(a){var d=function(o){var e=this;e.elem=a(o),e.elem.submit(function(s){s.preventDefault(),e.resetResults(e),e.isFormValid(e)&&(e.compute(e),e.scrollToResults(e))})};d.prototype.scrollToResults=function(o){var e=o;if(e.parents(".aiosp-container").length===0){var s=e.elem.find(".aios-mortgage-calculator-standalone-calculation-result").offset().top,c=150;a("html,body").animate({scrollTop:s-c},200)}},d.prototype.resetResults=function(o){var e=o;e.elem.find("input[name='PI']").val(""),e.elem.find("input[name='MT']").val(""),e.elem.find("input[name='MI']").val(""),e.elem.find("input[name='MP']").val("")},d.prototype.isFormValid=function(o){var e=o,s=!0,c=e.elem.find(".aios-mortgage-calculator-standalone-number");return c.each(function(h,m){e.elem.find(".aios-mortgage-calculator-standalone-error-tooltip").remove(),c.removeClass("aios-mortgage-calculator-standalone-error")}),c.each(function(h,m){if(isNaN(parseInt(jQuery(m).val()))){var v=jQuery("<div class='aios-mortgage-calculator-standalone-error-tooltip'></div>");v.html("Specify a valid number"),jQuery(m).addClass("aios-mortgage-calculator-standalone-error").after(v),s=!1}}),s},d.prototype.floor=function(o){return Math.floor(o*Math.pow(10,2))/Math.pow(10,2)},d.prototype.compute=function(o){var e=o,s=parseInt(e.elem.find("input[name='IR']").val())/1200,c=1,h=1+s;for(i=0;i<parseInt(e.elem.find("input[name='YR']").val())*12;i++)c=c*h;e.elem.find("input[name='PI']").val(e.floor(parseInt(e.elem.find("input[name='LA']").val())*s/(1-1/c))),e.elem.find("input[name='MT']").val(e.floor(parseInt(e.elem.find("input[name='AT']").val())/12)),e.elem.find("input[name='MI']").val(e.floor(parseInt(e.elem.find("input[name='AI']").val())/12));var m=parseInt(e.elem.find("input[name='LA']").val())*s/(1-1/c)+parseInt(e.elem.find("input[name='AT']").val())/12+parseInt(e.elem.find("input[name='AI']").val())/12;e.elem.find("input[name='MP']").val(e.floor(m))},a(document).ready(function(){var o=a(window);function e(){h(),b(),I(),A(),o.on("load",function(){c(),s()}),o.on("resize",function(){b()})}function s(){/iPhone|iPod|iPad/.test(navigator.userAgent)&&a("iframe.aios-iframe").each(function(){var n=a(this).attr("height");a(this).parent().hasClass("iframe-enable-touch")||(a(this).wrapAll('<div class="iframe-enable-touch"></div>'),a(this).parent().css({width:"100%",height:n,overflow:"auto","-webkit-overflow-scrolling":"touch"}))})}function c(){a("iframe[websource]").each(function(){var n=a(this).attr("websource");a(this).attr("src",n)})}function h(){a('a[href^="mailto(coln)"], .asis-mailto-obfuscated-email').each(function(){var n=a(this).attr("data-value");if(n!==void 0){var t=n.replace(/\(at\)/g,"@").replace(/\(dotted\)/g,".").replace(/^\s+|\s+$/gm,""),r="mailto:"+t;a(this).attr("href",r);var l=m(a(this).html());a(this).html(l.replace(new RegExp(v(n)),t)),a(this).removeClass("asis-mailto-obfuscated-email-hidden")}})}function m(n){var t=jQuery("<textarea>"+n+"</textarea>");return t.text()}function v(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function b(){a(".ai-mobile-phone").each(function(n,t){var r=a(t).data("filter");a(window).width();var l=String(a(t).data("href")),f=a(t).data("ext"),u=l.replace(/[^a-zA-Z0-9]/g,""),y=u.split(""),g="";if(u=_(u),y.length>13||r=="off"?g=l:y.length>10&&y.length<14?g=u.substr(0,1)+"."+u.substr(1,3)+"."+u.substr(4,3)+"."+u.substr(7,4):g=u.substr(0,3)+"."+u.substr(3,3)+"."+u.substr(6,4),f=f!=null||f==""?","+f:"",a(t).find("> a").length<=0&&(current_content=a(t).html(),a(t).empty().html('<a href="tel:'+g+f+'">'+current_content+"</a>")),a(t).children("a").length>0){var p=a(t).children("a").eq(0).attr("href");p=p.replace(/[()]/g,"."),p=p.replace(/\-/g,"."),p=p.replace(/(\.){2,}/g,"."),a(t).children("a").eq(0).attr("href",p)}})}function _(n){for(var t=new Array,r=n.split(""),l=0;l<r.length;l++)isNaN(r[l])?t.push(w(r[l])):t.push(r[l]);return t.join("")}function w(n){switch(n.toLowerCase()){case"a":case"b":case"c":return"2";case"d":case"e":case"f":return"3";case"g":case"h":case"i":return"4";case"j":case"k":case"l":return"5";case"m":case"n":case"o":return"6";case"p":case"q":case"r":case"s":return"7";case"t":case"u":case"v":return"8";case"w":case"x":case"y":case"z":return"9";default:return""}}function I(){a(".aios-mortgage-calculator-standalone").each(function(n,t){new d(jQuery(t))})}function A(){var n=document.querySelectorAll(".aios-video-player");if(n.length>0){a(".aios-video-player").each(function(r,l){a(l).attr("id","aios-video-player-"+r)});var t=Array.from(document.querySelectorAll(".aios-video-player")).map(function(r){return new Plyr(r,{iconUrl:"https://resources.agentimage.com/libraries/svg/plyr.svg",hideControls:!0,muted:!1,toggleInvert:!1,youtube:{controls:0,showinfo:0},playsinline:!1})});t.forEach(function(r,l){r.on("play",function(){t.forEach(function(f,u){r!=f&&f.pause()})})})}}e()})})(jQuery);
