jQuery(document).ready(function(t){t(".aios-leads-delete").on("click",function(l){const r=t(this),s=r.parents(".wpui-tabs-content"),a=s.find(".wpui-tabs-container"),o=a.find("input.leads:checkbox:checked").map(function(){return t(this).val()}).get();if(o.length===0)return swal({type:"error",title:"No lead selected",showConfirmButton:!1,timer:1500}),!1;Swal.fire({title:"Are you sure?",text:"Do you want to delete the selected leads?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete them!",cancelButtonText:"Cancel",showLoaderOnConfirm:!0,preConfirm:()=>new Promise(e=>{t.post(ajaxurl,{action:"delete_leads",data:o}).success(function(n){e(n)}).fail(function(n,i,c){reject("Error while deleting leads")})})}).then(e=>{e.value&&(swal({type:"success",title:"Deleted",showConfirmButton:!1,timer:1500}),setTimeout(()=>{window.location.reload()},1500))}).catch(e=>{swal({type:"error",title:"Error",showConfirmButton:!1,timer:1500})})}),t(".aios-leads-delete-spams").on("click",function(l){l.preventDefault();const r=t(this),s=r.data("title"),a=r.data("category"),o=r.data("count");if(o===0)return swal({type:"error",title:"There are no spam leads to delete",showConfirmButton:!1,timer:1500}),!1;Swal.fire({title:"Are you sure?",text:a==="all"?"Do you want to delete "+o+" spam leads?":"Do you want to delete "+o+" spam leads from "+s+"?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete them!",cancelButtonText:"Cancel",showLoaderOnConfirm:!0,preConfirm:()=>new Promise(e=>{t.post(ajaxurl,{action:"delete_spam_leads",data:{category:a}}).success(function(n){e(n)}).fail(function(n,i,c){reject("Error while deleting leads")})})}).then(e=>{e.value&&(swal({type:"success",title:"Deleted",showConfirmButton:!1,timer:1500}),setTimeout(()=>{window.location.reload()},1500))}).catch(e=>{swal({type:"error",title:"Error",showConfirmButton:!1,timer:1500})})})});
